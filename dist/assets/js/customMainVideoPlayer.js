function b(){const e=document.querySelector(".main-player__video"),s=document.querySelector(".main-player__play-btn"),u=document.querySelector(".main-player__big-btn"),a=document.querySelector(".main-player__progress"),n=document.querySelector(".main-player__volume"),y=document.querySelector(".main-player__mute"),m=document.querySelector(".main-player__fullscreen"),r=document.querySelector(".main-player__speed"),v=document.querySelector(".main-player__wrapper"),i=document.querySelector(".main-player__preloader");let l=!1,d=1;function k(){e.pause(),e.currentTime=0,o(),a.value=0,a.style.background="linear-gradient(to right, #710707 0%, #710707 0%, #fff 0%, white 100%)",i&&(i.style.display="block")}function c(){document.querySelectorAll('iframe[id^="player-"]').forEach(t=>{var g;(g=t.contentWindow)==null||g.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),e.paused||e.ended?(window.sliderVideoAPIInstance&&window.sliderVideoAPIInstance.then(t=>{t&&t.stopActiveVideo&&t.stopActiveVideo()}),e.play(),i&&(i.style.display="none")):e.pause(),o()}function o(){e.paused?(s.classList.remove("pause"),u.style.display="block"):(s.classList.add("pause"),u.style.display="none")}e.addEventListener("timeupdate",()=>{const t=e.currentTime/e.duration*100;a.value=t,a.style.background=`linear-gradient(to right, #710707 0%, #710707 ${t}%, #fff ${t}%, white 100%)`}),a.addEventListener("input",()=>{const t=a.value;e.currentTime=t/100*e.duration,a.style.background=`linear-gradient(to right, #710707 0%, #710707 ${t}%, #fff ${t}%, white 100%)`}),e.addEventListener("ended",()=>{e.pause(),e.currentTime=0,o(),a.value=0,a.style.background="linear-gradient(to right, #710707 0%, #710707 0%, #fff 0%, white 100%)"}),n.addEventListener("input",()=>{const t=n.value;e.volume=t,e.muted=t==="0",l=e.muted,p(),n.style.background=`linear-gradient(to right, #710707 0%, #710707 ${t*100}%, #fff ${t*100}%, white 100%)`}),y.addEventListener("click",()=>{l=!l,e.muted=l,n.value=l?0:e.volume,p(),n.style.background=`linear-gradient(to right, #710707 0%, #710707 ${n.value*100}%, #fff ${n.value*100}%, white 100%)`});function p(){y.classList.toggle("muted",e.muted||n.value==="0")}m.addEventListener("click",()=>{document.fullscreenElement?document.exitFullscreen():v.requestFullscreen()});function h(){r.textContent=`${d.toFixed(1)}x`,r.style.opacity=1,clearTimeout(r.timeout),r.timeout=setTimeout(()=>{r.style.opacity=0},1e3)}function f(t){d=Math.max(.25,Math.min(2,d+t)),e.playbackRate=d,h()}document.addEventListener("keydown",t=>{if(document.activeElement.tagName!=="INPUT")switch(t.key.toLowerCase()){case" ":t.preventDefault(),c();break;case"m":y.click();break;case"f":m.click();break;case">":t.shiftKey&&f(.25);break;case"<":t.shiftKey&&f(-.25);break}}),s.addEventListener("click",c),u.addEventListener("click",c),e.addEventListener("click",c),e.addEventListener("play",()=>{o(),i&&(i.style.display="none")}),e.addEventListener("pause",o),a.style.background="linear-gradient(to right, #710707 0%, #710707 0%, #fff 0%, white 100%)",n.style.background=`linear-gradient(to right, #710707 0%, #710707 ${n.value*100}%, #fff ${n.value*100}%, white 100%)`,window.mainPlayerAPI={stopMainVideo:k},console.log("customMainVideoPlayer loaded")}export{b as default};
