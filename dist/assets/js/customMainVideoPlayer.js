function b(){const e=document.querySelector(".main-player__video"),c=document.querySelector(".main-player__play-btn"),u=document.querySelector(".main-player__big-btn"),i=document.querySelector(".main-player__progress"),a=document.querySelector(".main-player__volume"),y=document.querySelector(".main-player__mute"),p=document.querySelector(".main-player__fullscreen"),r=document.querySelector(".main-player__speed"),g=document.querySelector(".main-player__wrapper"),n=document.querySelector(".main-player__preloader");let l=!1,s=1;function k(){e.pause(),e.currentTime=0,d(),i.value=0,i.style.background="linear-gradient(to right, #710707 0%, #710707 0%, #fff 0%, white 100%)",n&&(n.style.display="block")}function o(){document.querySelectorAll('iframe[id^="player-"]').forEach(t=>{var v;(v=t.contentWindow)==null||v.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),e.paused||e.ended?(window.sliderVideoAPIInstance&&window.sliderVideoAPIInstance.then(t=>{t&&t.stopActiveVideo&&t.stopActiveVideo()}),e.play(),n&&(n.style.display="none")):e.pause(),d()}function d(){e.paused?(c.classList.remove("pause"),u.style.display="block",n&&(n.style.display="block")):(c.classList.add("pause"),u.style.display="none",n&&(n.style.display="none"))}e.addEventListener("timeupdate",()=>{const t=e.currentTime/e.duration*100;i.value=t,i.style.background=`linear-gradient(to right, #710707 0%, #710707 ${t}%, #fff ${t}%, white 100%)`}),i.addEventListener("input",()=>{const t=i.value;e.currentTime=t/100*e.duration,i.style.background=`linear-gradient(to right, #710707 0%, #710707 ${t}%, #fff ${t}%, white 100%)`}),e.addEventListener("ended",()=>{e.pause(),e.currentTime=0,d(),i.value=0,i.style.background="linear-gradient(to right, #710707 0%, #710707 0%, #fff 0%, white 100%)"}),a.addEventListener("input",()=>{const t=a.value;e.volume=t,e.muted=t==="0",l=e.muted,f(),a.style.background=`linear-gradient(to right, #710707 0%, #710707 ${t*100}%, #fff ${t*100}%, white 100%)`}),y.addEventListener("click",()=>{l=!l,e.muted=l,a.value=l?0:e.volume,f(),a.style.background=`linear-gradient(to right, #710707 0%, #710707 ${a.value*100}%, #fff ${a.value*100}%, white 100%)`});function f(){y.classList.toggle("muted",e.muted||a.value==="0")}p.addEventListener("click",()=>{document.fullscreenElement?document.exitFullscreen():g.requestFullscreen()});function h(){r.textContent=`${s.toFixed(1)}x`,r.style.opacity=1,clearTimeout(r.timeout),r.timeout=setTimeout(()=>{r.style.opacity=0},1e3)}function m(t){s=Math.max(.25,Math.min(2,s+t)),e.playbackRate=s,h()}document.addEventListener("keydown",t=>{if(document.activeElement.tagName!=="INPUT")switch(t.key.toLowerCase()){case" ":t.preventDefault(),o();break;case"m":y.click();break;case"f":p.click();break;case">":t.shiftKey&&m(.25);break;case"<":t.shiftKey&&m(-.25);break}}),c.addEventListener("click",o),u.addEventListener("click",o),e.addEventListener("click",o),e.addEventListener("play",()=>{d(),n&&(n.style.display="none")}),e.addEventListener("pause",d),i.style.background="linear-gradient(to right, #710707 0%, #710707 0%, #fff 0%, white 100%)",a.style.background=`linear-gradient(to right, #710707 0%, #710707 ${a.value*100}%, #fff ${a.value*100}%, white 100%)`,n&&n.addEventListener("click",()=>{o()}),window.mainPlayerAPI={stopMainVideo:k}}export{b as default};
