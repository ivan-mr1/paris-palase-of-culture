const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./welcome-slider.js","./swiper-core.js","./pagination.js","./autoplay.js","./sliderVideoAPI.js","./sliderTickets.js","./effect-cube.js","./sliderBooking.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const N="modulepreload",M=function(e,t){return new URL(e,t).href},B={},w=function(t,o,s){let n=Promise.resolve();if(o&&o.length>0){let c=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const l=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),m=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=c(o.map(u=>{if(u=M(u,s),u in B)return;B[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(!!s)for(let p=l.length-1;p>=0;p--){const g=l[p];if(g.href===u&&(!f||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const a=document.createElement("link");if(a.rel=f?"stylesheet":N,f||(a.as="script"),a.crossOrigin="",a.href=u,m&&a.setAttribute("nonce",m),document.head.appendChild(a),f)return new Promise((p,g)=>{a.addEventListener("load",p),a.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(c){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=c,window.dispatchEvent(l),!l.defaultPrevented)throw c}return n.then(c=>{for(const l of c||[])l.status==="rejected"&&r(l.reason);return t().catch(r)})};function V(){const t=document.querySelector(".scroll-up"),o=document.querySelector(".scroll-up__path"),s=o.getTotalLength();o.style.strokeDasharray=`${s} ${s}`,o.style.transition="stroke-dashoffset 20ms";const n=()=>window.scrollY||document.documentElement.scrollTop,r=()=>{const c=document.documentElement.scrollHeight-window.innerHeight,l=s-n()*s/c;o.style.strokeDashoffset=l};window.addEventListener("scroll",()=>{r(),n()>100?t.classList.add("scroll-up--active"):t.classList.remove("scroll-up--active")}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}let C=!0;const q=document.querySelectorAll(".lock-padding"),x=document.querySelector("body");function $(e=500){const t=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(q.length>0)for(let o=0;o<q.length;o++){const s=q[o];s.style.paddingRight=t}x.style.paddingRight=t,x.classList.add("lock"),C=!1,setTimeout(function(){C=!0},e)}function H(e=500){setTimeout(function(){if(q.length>0)for(let t=0;t<q.length;t++){const o=q[t];o.style.paddingRight="0px"}x.style.paddingRight="0px",x.classList.remove("lock")},e),C=!1,setTimeout(function(){C=!0},C)}function F(){const e=document.querySelectorAll(".popup-link");if(e.length>0)for(let n=0;n<e.length;n++){const r=e[n];r.addEventListener("click",function(c){c.preventDefault();const l=r.getAttribute("href").replace("#",""),i=document.getElementById(l);o(i)})}const t=document.querySelectorAll(".close-popup");if(t.length>0)for(let n=0;n<t.length;n++){const r=t[n];r.addEventListener("click",function(c){c.preventDefault(),s(r.closest(".popup"))})}function o(n){if(n&&C){const r=document.querySelector(".popup.open");r?s(r,!1):$(),n.classList.add("open"),n.addEventListener("click",c=>{c.target.closest(".popup__content")||s(c.target.closest(".popup"))})}}function s(n,r=!0){C&&(n.classList.remove("open"),r&&H())}document.addEventListener("keydown",n=>{if(n.code==="Escape"){const r=document.querySelector(".popup.open");s(r)}})}const U=()=>{const e="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d10499.212570619604!2d2.325642918775264!3d48.861964141318836!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66e25d0482b3d%3A0x1c0b82c6e1d85100!2zNzUwMDEg0J_QsNGA0LjQtiwg0KTRgNCw0L3RhtC40Y8!5e0!3m2!1sru!2sro!4v1752657985792!5m2!1sru!2sro",t=document.querySelector("[data-map]"),o=document.querySelector("[data-map-trigger]");t&&o&&o.addEventListener("click",()=>{o.remove();const s=document.createElement("iframe");s.src=e,s.loading="lazy",s.allowFullscreen=!0,s.referrerPolicy="no-referrer-when-downgrade",t.appendChild(s)})},z=()=>{const e=document.getElementById("bookingForm"),t=document.getElementById("datePicker"),o=new Date().toISOString().split("T")[0];t.min=o;const s=document.getElementById("userName"),n=document.getElementById("userEmail"),r=document.getElementById("userPhone"),c=document.querySelector('input[name="user-time"]'),l={userName:()=>/^[A-Za-zА-Яа-яЁё\s]{3,15}$/.test(s.value.trim()),userEmail:()=>/^[a-zA-Z0-9_-]{3,15}@([a-z]{4,})\.([a-z]{2,})$/.test(n.value.trim()),userPhone:()=>{const d=r.value.replace(/[\s-]/g,"");return/^(\d[\d\s-]*){10}$/.test(r.value)&&d.length===10},userDate:()=>t.value>=o,userTime:()=>{const[d,a]=c.value.split(":").map(Number),p=d*60+a,g=9*60,y=18*60;return!isNaN(p)&&p>=g&&p<=y&&p%30===0}},i={userName:"Имя должно содержать 3–15 букв (русские или латинские) и пробелы.",userEmail:"Email должен быть в формате username@example.com",userPhone:"Телефон должен содержать 10 цифр, можно с пробелами или дефисами.",userDate:"Нельзя выбрать прошедшую дату.",userTime:"Выберите время от 09:00 до 18:00 с шагом 30 минут."};s.addEventListener("input",()=>m(s,"nameError","userName")),n.addEventListener("input",()=>m(n,"emailError","userEmail")),r.addEventListener("input",()=>m(r,"phoneError","userPhone")),t.addEventListener("input",()=>m(t,"dateError","userDate")),c.addEventListener("input",()=>m(c,"timeError","userTime")),e.addEventListener("submit",d=>{d.preventDefault(),h();let a=!0;l.userName()||(u(s,"nameError",i.userName),a=!1),l.userEmail()||(u(n,"emailError",i.userEmail),a=!1),l.userPhone()||(u(r,"phoneError",i.userPhone),a=!1),l.userDate()||(u(t,"dateError",i.userDate),a=!1),l.userTime()||(u(c,"timeError",i.userTime),a=!1),a&&(alert("Форма успешно отправлена!"),e.reset(),h())});function m(d,a,p){l[p]()?f(d,a):u(d,a,i[p])}function u(d,a,p){d.classList.remove("valid"),d.classList.add("invalid");const g=document.getElementById(a);g&&(g.textContent=p)}function f(d,a){d.classList.remove("invalid"),d.classList.add("valid");const p=document.getElementById(a);p&&(p.textContent="")}function h(){document.querySelectorAll(".error").forEach(d=>d.textContent=""),document.querySelectorAll(".invalid, .valid").forEach(d=>{d.classList.remove("invalid"),d.classList.remove("valid")})}},Y=()=>{const e=document.getElementById("datePicker"),t=document.querySelector('input[name="user-time"]'),o=document.getElementById("ticket-type"),s=document.querySelector(".overwiev__date--date"),n=document.querySelector(".overwiev__time--time"),r=document.querySelector(".overwiev__type-ticket--type-ticket");e.addEventListener("change",()=>{const c=new Date(e.value);if(!isNaN(c)){const l={weekday:"long",month:"long",day:"numeric"},i=c.toLocaleDateString("en-US",l);s.textContent=i}}),t.addEventListener("change",()=>{const c=t.value;if(c){const[l,i]=c.split(":");n.textContent=`${l} : ${i}`}}),o.addEventListener("change",()=>{const c=o.value;c&&(r.textContent=c)})},S={ticketType:"ticketType",basicCount:"basicCount",seniorCount:"seniorCount",totalPrice:"totalPrice"},P={basic:{20:20,25:25,40:40},senior:{20:10,25:12.5,40:20}};let I=localStorage.getItem(S.ticketType)||"20",E=parseInt(localStorage.getItem(S.basicCount))||0,v=parseInt(localStorage.getItem(S.seniorCount))||0;const W=document.querySelector(".js-price-total"),D=document.querySelectorAll('input[name="radio"]'),G=document.querySelectorAll(".js-plus"),R=document.querySelectorAll(".js-minus");function K(){const e=P.basic[I],t=P.senior[I];return(e*E+t*v).toFixed(0)}function b(){const e=K();W.textContent=e,localStorage.setItem(S.totalPrice,e)}function Q(){return I}const Z=()=>{document.querySelector(".stapper__number--basic").textContent=E,document.querySelector(".stapper__number--senior").textContent=v,D.forEach(t=>{t.checked=t.value===I});function e(){R.forEach(t=>{const o=t.closest(".js-counter");o.classList.contains("js-basic-counter")?t.classList.toggle("disabled",E===0):o.classList.contains("js-senior-counter")&&t.classList.toggle("disabled",v===0)})}D.forEach(t=>{t.addEventListener("change",o=>{I=o.target.value,localStorage.setItem(S.ticketType,I),b()})}),G.forEach(t=>{t.addEventListener("click",()=>{const o=t.closest(".js-counter"),s=o.querySelector(".js-current-items");o.classList.contains("js-basic-counter")?(E++,s.textContent=E,localStorage.setItem(S.basicCount,E)):o.classList.contains("js-senior-counter")&&(v++,s.textContent=v,localStorage.setItem(S.seniorCount,v)),b(),e()})}),R.forEach(t=>{t.addEventListener("click",()=>{const o=t.closest(".js-counter"),s=o.querySelector(".js-current-items");o.classList.contains("js-basic-counter")&&E>0?(E--,s.textContent=E,localStorage.setItem(S.basicCount,E)):o.classList.contains("js-senior-counter")&&v>0&&(v--,s.textContent=v,localStorage.setItem(S.seniorCount,v)),b(),e()})}),b(),e()},J=()=>{const e=document.querySelector(".stappers-booking__basic .js-counter"),t=document.querySelector(".stappers-booking__senior .js-counter"),o=e.querySelector(".js-current-items"),s=t.querySelector(".js-current-items"),n=document.querySelector(".js-basic-counter .js-current-items"),r=document.querySelector(".js-senior-counter .js-current-items"),c=document.querySelector(".js-calc-basic-modal"),l=document.querySelector(".js-calc-senior-modal"),i=document.querySelector(".js-price-basic-modal"),m=document.querySelector(".js-price-senior-modal"),u=document.querySelector(".js-price-total-modal");function f(y){const L=y.querySelector(".js-minus"),k=parseInt(y.querySelector(".js-current-items").textContent,10);L.classList.toggle("disabled",k<=0)}function h(){!n||!r||(o.textContent=n.textContent,s.textContent=r.textContent,f(e),f(t),a())}function d(){!n||!r||(n.textContent=o.textContent,r.textContent=s.textContent)}function a(){const y=parseInt(o.textContent,10),L=parseInt(s.textContent,10),k=Q(),T=P.basic[k],_=P.senior[k],j=y*T,A=L*_;if(c&&(c.textContent=y),l&&(l.textContent=L),i&&(i.textContent=j.toFixed(0)+" €"),m&&(m.textContent=A.toFixed(0)+" €"),u){const O=j+A;u.textContent=O.toFixed(0)}}function p(y,L){const k=y.querySelector(".js-plus"),T=y.querySelector(".js-minus");k.addEventListener("click",()=>{let _=parseInt(L.textContent,10);_++,L.textContent=_,f(y),d(),b(),a()}),T.addEventListener("click",()=>{let _=parseInt(L.textContent,10);_>0&&(_--,L.textContent=_,f(y),d(),b(),a())})}const g=document.querySelector(".amount__btn");g&&g.addEventListener("click",()=>{h()}),p(e,o),p(t,s),a()};function X(){const e=document.querySelectorAll("[data-goto]");e.length>0&&e.forEach(t=>{t.addEventListener("click",o=>{const s=o.target;if(s.dataset.goto&&document.querySelector(s.dataset.goto)){o.preventDefault();const r=document.querySelector(s.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;window.scrollTo({top:r,behavior:"smooth"})}})})}function ee(){const e=document.querySelector(".menu__body"),t=document.querySelector(".icon-menu");e&&t&&(t.addEventListener("click",()=>{e.classList.toggle("menu-open"),t.classList.toggle("menu-open"),document.body.classList.toggle("lock"),document.querySelector(".welcome__content").classList.toggle("menu-open")}),e.addEventListener("click",o=>{o.target.classList.contains("menu__body")&&(e.classList.remove("menu-open"),t.classList.remove("menu-open"),document.body.classList.remove("lock"),document.querySelector(".welcome__content").classList.remove("menu-open"))}),e.querySelectorAll(".menu__link").forEach(o=>{o.addEventListener("click",()=>{e.classList.remove("menu-open"),t.classList.remove("menu-open"),document.body.classList.remove("lock"),document.querySelector(".welcome__content").classList.remove("menu-open")})}))}function te(){function e(){function o(i){for(let m=i.length-1;m>0;m--){let u=Math.floor(Math.random()*(m+1));[i[m],i[u]]=[i[u],i[m]]}return i}const s=o([1,2,3,4,5,6,7,8,9,10,11,12]),n=document.querySelectorAll(".gallery__column");let r="",c=0,l=0;s.forEach(i=>{let m=`<img class="gallery__img" src="assets/img/galery/galery${i}.webp" alt="gallery${i}">`;r+=m,c++,c==4&&(n[l].innerHTML=r,r="",c=0,l++)})}function t(){const o=document.querySelectorAll(".gallery__img");if(o.length>0){let s=function(){for(let r=0;r<o.length;r++){const c=o[r],l=c.offsetHeight,i=n(c).top,m=10;let u=window.innerHeight-l/m;l>window.innerHeight&&(u=window.innerHeight-window.innerHeight/m),scrollY>i-u&&scrollY<i+l?c.classList.add("animation-gallery"):c.classList.remove("animation-gallery")}},n=function(r){const c=r.getBoundingClientRect(),l=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:c.top+i,left:c.left+l}};window.addEventListener("scroll",s),s()}}e(),t()}window.addEventListener("DOMContentLoaded",()=>{V(),F(),z(),Y(),Z(),J(),X(),ee(),te(),U(),w(()=>import("./welcome-slider.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(e=>e.default()).catch(e=>console.error('Ошибка загрузки модуля "welcome-slider":',e)),w(()=>import("./sliderComparisonImages.js"),[],import.meta.url).then(e=>e.default()).catch(e=>console.error('Ошибка загрузки модуля "sliderComparisonImages":',e)),w(()=>import("./customMainVideoPlayer.js"),[],import.meta.url).then(e=>e.default()).catch(e=>console.error('Error loading module "customMainVideoPlayer":',e)),w(()=>import("./sliderVideoAPI.js"),__vite__mapDeps([4,1,2]),import.meta.url).then(e=>{window.sliderVideoAPIInstance=e.default()}).catch(e=>console.error('Error loading module "sliderVideoAPI":',e)),w(()=>import("./sliderTickets.js"),__vite__mapDeps([5,1,3,6]),import.meta.url).then(e=>{window.sliderVideoAPIInstance=e.default()}).catch(e=>console.error('Error loading module "sliderTickets":',e)),w(()=>import("./sliderBooking.js"),__vite__mapDeps([7,1,3,6]),import.meta.url).then(e=>{window.sliderVideoAPIInstance=e.default()}).catch(e=>console.error('Error loading module "sliderBooking":',e)),console.log(`реализовано:
        - кнопка вверх
        - мобильное меню бургер
        - слайдер в секции welcome
        - слайдер сравнения изображений
        - видеоплеер 
        - слайдер видео
        - анимация галереи
        - слайдер в секции tickets
        - калькулятор стоимости билетов с сохранением в local storage
        - модальное окно
        - слайдер в модальном окне
        - валидация формы
        - ленивая загрузка карты
        `)});
