const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./welcome-slider.js","./swiper-core.js","./pagination.js","./sliderVideoAPI.js","./sliderTickets.js","./effect-cube.js","./sliderBooking.js"])))=>i.map(i=>d[i]);
(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();const S="modulepreload",k=function(t,r){return new URL(t,r).href},_={},y=function(r,s,i){let e=Promise.resolve();if(s&&s.length>0){let n=function(u){return Promise.all(u.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const c=document.getElementsByTagName("link"),l=document.querySelector("meta[property=csp-nonce]"),m=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));e=n(s.map(u=>{if(u=k(u,i),u in _)return;_[u]=!0;const p=u.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(!!i)for(let f=c.length-1;f>=0;f--){const g=c[f];if(g.href===u&&(!p||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const a=document.createElement("link");if(a.rel=p?"stylesheet":S,p||(a.as="script"),a.crossOrigin="",a.href=u,m&&a.setAttribute("nonce",m),document.head.appendChild(a),p)return new Promise((f,g)=>{a.addEventListener("load",f),a.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(n){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n}return e.then(n=>{for(const c of n||[])c.status==="rejected"&&o(c.reason);return r().catch(o)})};function I(){const r=document.querySelector(".scroll-up"),s=document.querySelector(".scroll-up__path"),i=s.getTotalLength();s.style.strokeDasharray=`${i} ${i}`,s.style.transition="stroke-dashoffset 20ms";const e=()=>window.scrollY||document.documentElement.scrollTop,o=()=>{const n=document.documentElement.scrollHeight-window.innerHeight,c=i-e()*i/n;s.style.strokeDashoffset=c};window.addEventListener("scroll",()=>{o(),e()>100?r.classList.add("scroll-up--active"):r.classList.remove("scroll-up--active")}),r.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}let v=!0;const E=document.querySelectorAll(".lock-padding"),L=document.querySelector("body");function q(t=500){const r=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(E.length>0)for(let s=0;s<E.length;s++){const i=E[s];i.style.paddingRight=r}L.style.paddingRight=r,L.classList.add("lock"),v=!1,setTimeout(function(){v=!0},t)}function P(t=500){setTimeout(function(){if(E.length>0)for(let r=0;r<E.length;r++){const s=E[r];s.style.paddingRight="0px"}L.style.paddingRight="0px",L.classList.remove("lock")},t),v=!1,setTimeout(function(){v=!0},v)}function T(){const t=document.querySelectorAll(".popup-link");if(t.length>0)for(let e=0;e<t.length;e++){const o=t[e];o.addEventListener("click",function(n){n.preventDefault();const c=o.getAttribute("href").replace("#",""),l=document.getElementById(c);s(l)})}const r=document.querySelectorAll(".close-popup");if(r.length>0)for(let e=0;e<r.length;e++){const o=r[e];o.addEventListener("click",function(n){n.preventDefault(),i(o.closest(".popup"))})}function s(e){if(e&&v){const o=document.querySelector(".popup.open");o?i(o,!1):q(),e.classList.add("open"),e.addEventListener("click",n=>{n.target.closest(".popup__content")||i(n.target.closest(".popup"))})}}function i(e,o=!0){v&&(e.classList.remove("open"),o&&P())}document.addEventListener("keydown",e=>{if(e.code==="Escape"){const o=document.querySelector(".popup.open");i(o)}})}const A=()=>{const t=document.querySelectorAll(".js-cart");(()=>{t.forEach(s=>{s.addEventListener("click",i=>{let e,o;if(i.target.matches(".js-minus")||i.target.matches(".js-plus")){const n=i.target.closest(".js-counter");e=n.querySelector(".js-current-items"),o=n.querySelector(".js-minus")}i.target.matches(".js-plus")&&(e.textContent=++e.textContent,o.classList.remove("disabled")),i.target.matches(".js-minus")&&(parseInt(e.textContent)>1?e.textContent=--e.textContent:parseInt(e.textContent)===1&&(e.textContent=--e.textContent,o.classList.add("disabled")))})})})()},C=()=>{const t=document.getElementById("bookingForm"),r=document.getElementById("datePicker"),s=new Date().toISOString().split("T")[0];r.min=s;const i=document.getElementById("userName"),e=document.getElementById("userEmail"),o=document.getElementById("userPhone"),n=document.querySelector('input[name="user-time"]'),c={userName:()=>/^[A-Za-zА-Яа-яЁё\s]{3,15}$/.test(i.value.trim()),userEmail:()=>/^[a-zA-Z0-9_-]{3,15}@([a-z]{4,})\.([a-z]{2,})$/.test(e.value.trim()),userPhone:()=>{const d=o.value.replace(/[\s-]/g,"");return/^(\d[\d\s-]*){10}$/.test(o.value)&&d.length===10},userDate:()=>r.value>=s,userTime:()=>{const[d,a]=n.value.split(":").map(Number),f=d*60+a,g=9*60,w=18*60;return!isNaN(f)&&f>=g&&f<=w&&f%30===0}},l={userName:"Имя должно содержать 3–15 букв (русские или латинские) и пробелы.",userEmail:"Email должен быть в формате username@example.com",userPhone:"Телефон должен содержать 10 цифр, можно с пробелами или дефисами.",userDate:"Нельзя выбрать прошедшую дату.",userTime:"Выберите время от 09:00 до 18:00 с шагом 30 минут."};i.addEventListener("input",()=>m(i,"nameError","userName")),e.addEventListener("input",()=>m(e,"emailError","userEmail")),o.addEventListener("input",()=>m(o,"phoneError","userPhone")),r.addEventListener("input",()=>m(r,"dateError","userDate")),n.addEventListener("input",()=>m(n,"timeError","userTime")),t.addEventListener("submit",d=>{d.preventDefault(),h();let a=!0;c.userName()||(u(i,"nameError",l.userName),a=!1),c.userEmail()||(u(e,"emailError",l.userEmail),a=!1),c.userPhone()||(u(o,"phoneError",l.userPhone),a=!1),c.userDate()||(u(r,"dateError",l.userDate),a=!1),c.userTime()||(u(n,"timeError",l.userTime),a=!1),a&&(alert("Форма успешно отправлена!"),t.reset(),h())});function m(d,a,f){c[f]()?p(d,a):u(d,a,l[f])}function u(d,a,f){d.classList.remove("valid"),d.classList.add("invalid");const g=document.getElementById(a);g&&(g.textContent=f)}function p(d,a){d.classList.remove("invalid"),d.classList.add("valid");const f=document.getElementById(a);f&&(f.textContent="")}function h(){document.querySelectorAll(".error").forEach(d=>d.textContent=""),document.querySelectorAll(".invalid, .valid").forEach(d=>{d.classList.remove("invalid"),d.classList.remove("valid")})}},x=()=>{const t=document.getElementById("datePicker"),r=document.querySelector('input[name="user-time"]'),s=document.getElementById("ticket-type"),i=document.querySelector(".overwiev__date--date"),e=document.querySelector(".overwiev__time--time"),o=document.querySelector(".overwiev__type-ticket--type-ticket");t.addEventListener("change",()=>{const n=new Date(t.value);if(!isNaN(n)){const c={weekday:"long",month:"long",day:"numeric"},l=n.toLocaleDateString("en-US",c);i.textContent=l}}),r.addEventListener("change",()=>{const n=r.value;if(n){const[c,l]=n.split(":");e.textContent=`${c} : ${l}`}}),s.addEventListener("change",()=>{const n=s.value;n&&(o.textContent=n)})};function b(){const t=document.querySelectorAll("[data-goto]");t.length>0&&t.forEach(r=>{r.addEventListener("click",s=>{const i=s.target;if(i.dataset.goto&&document.querySelector(i.dataset.goto)){s.preventDefault();const o=document.querySelector(i.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;window.scrollTo({top:o,behavior:"smooth"})}})})}function D(){const t=document.querySelector(".menu__body"),r=document.querySelector(".icon-menu");t&&r&&(r.addEventListener("click",()=>{t.classList.toggle("menu-open"),r.classList.toggle("menu-open"),document.body.classList.toggle("lock"),document.querySelector(".welcome__content").classList.toggle("menu-open")}),t.addEventListener("click",s=>{s.target.classList.contains("menu__body")&&(t.classList.remove("menu-open"),r.classList.remove("menu-open"),document.body.classList.remove("lock"),document.querySelector(".welcome__content").classList.remove("menu-open"))}),t.querySelectorAll(".menu__link").forEach(s=>{s.addEventListener("click",()=>{t.classList.remove("menu-open"),r.classList.remove("menu-open"),document.body.classList.remove("lock"),document.querySelector(".welcome__content").classList.remove("menu-open")})}))}function R(){function t(){function s(l){for(let m=l.length-1;m>0;m--){let u=Math.floor(Math.random()*(m+1));[l[m],l[u]]=[l[u],l[m]]}return l}const i=s([1,2,3,4,5,6,7,8,9,10,11,12]),e=document.querySelectorAll(".gallery__column");let o="",n=0,c=0;i.forEach(l=>{let m=`<img class="gallery__img" src="assets/img/galery/galery${l}.webp" alt="gallery${l}">`;o+=m,n++,n==4&&(e[c].innerHTML=o,o="",n=0,c++)})}function r(){const s=document.querySelectorAll(".gallery__img");if(s.length>0){let i=function(){for(let o=0;o<s.length;o++){const n=s[o],c=n.offsetHeight,l=e(n).top,m=10;let u=window.innerHeight-c/m;c>window.innerHeight&&(u=window.innerHeight-window.innerHeight/m),scrollY>l-u&&scrollY<l+c?n.classList.add("animation-gallery"):n.classList.remove("animation-gallery")}},e=function(o){const n=o.getBoundingClientRect(),c=window.pageXOffset||document.documentElement.scrollLeft,l=window.pageYOffset||document.documentElement.scrollTop;return{top:n.top+l,left:n.left+c}};window.addEventListener("scroll",i),i()}}t(),r()}window.addEventListener("DOMContentLoaded",()=>{I(),T(),A(),C(),x(),b(),D(),R(),y(()=>import("./welcome-slider.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(t=>t.default()).catch(t=>console.error('Ошибка загрузки модуля "welcome-slider":',t)),y(()=>import("./sliderComparisonImages.js"),[],import.meta.url).then(t=>t.default()).catch(t=>console.error('Ошибка загрузки модуля "sliderComparisonImages":',t)),y(()=>import("./customMainVideoPlayer.js"),[],import.meta.url).then(t=>t.default()).catch(t=>console.error('Error loading module "customMainVideoPlayer":',t)),y(()=>import("./sliderVideoAPI.js"),__vite__mapDeps([3,1,2]),import.meta.url).then(t=>{window.sliderVideoAPIInstance=t.default()}).catch(t=>console.error('Error loading module "sliderVideoAPI":',t)),y(()=>import("./sliderTickets.js"),__vite__mapDeps([4,1,5]),import.meta.url).then(t=>{window.sliderVideoAPIInstance=t.default()}).catch(t=>console.error('Error loading module "sliderTickets":',t)),y(()=>import("./sliderBooking.js"),__vite__mapDeps([6,1,5]),import.meta.url).then(t=>{window.sliderVideoAPIInstance=t.default()}).catch(t=>console.error('Error loading module "sliderBooking":',t))});
