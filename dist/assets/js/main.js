const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./welcome-slider.js","./swiper-core.js","./pagination.js","./autoplay.js","./sliderVideoAPI.js","./sliderTickets.js","./effect-cube.js","./sliderBooking.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}})();const N="modulepreload",M=function(e,t){return new URL(e,t).href},B={},k=function(t,o,s){let n=Promise.resolve();if(o&&o.length>0){const c=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.allSettled(o.map(u=>{if(u=M(u,s),u in B)return;B[u]=!0;const m=u.endsWith(".css"),v=m?'[rel="stylesheet"]':"";if(!!s)for(let d=c.length-1;d>=0;d--){const p=c[d];if(p.href===u&&(!m||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${v}`))return;const a=document.createElement("link");if(a.rel=m?"stylesheet":N,m||(a.as="script"),a.crossOrigin="",a.href=u,l&&a.setAttribute("nonce",l),document.head.appendChild(a),m)return new Promise((d,p)=>{a.addEventListener("load",d),a.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return n.then(c=>{for(const i of c||[])i.status==="rejected"&&r(i.reason);return t().catch(r)})};function V(){const t=document.querySelector(".scroll-up"),o=document.querySelector(".scroll-up__path"),s=o.getTotalLength();o.style.strokeDasharray=`${s} ${s}`,o.style.transition="stroke-dashoffset 20ms";const n=()=>window.scrollY||document.documentElement.scrollTop,r=()=>{const c=document.documentElement.scrollHeight-window.innerHeight,i=s-n()*s/c;o.style.strokeDashoffset=i};window.addEventListener("scroll",()=>{r(),n()>100?t.classList.add("scroll-up--active"):t.classList.remove("scroll-up--active")}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}let _=!0;const b=document.querySelectorAll(".lock-padding"),x=document.querySelector("body");function $(e=500){const t=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(b.length>0)for(let o=0;o<b.length;o++){const s=b[o];s.style.paddingRight=t}x.style.paddingRight=t,x.classList.add("lock"),_=!1,setTimeout(function(){_=!0},e)}function H(e=500){setTimeout(function(){if(b.length>0)for(let t=0;t<b.length;t++){const o=b[t];o.style.paddingRight="0px"}x.style.paddingRight="0px",x.classList.remove("lock")},e),_=!1,setTimeout(function(){_=!0},_)}function F(){const e=document.querySelectorAll(".popup-link");if(e.length>0)for(let n=0;n<e.length;n++){const r=e[n];r.addEventListener("click",function(c){c.preventDefault();const i=r.getAttribute("href").replace("#",""),l=document.getElementById(i);o(l)})}const t=document.querySelectorAll(".close-popup");if(t.length>0)for(let n=0;n<t.length;n++){const r=t[n];r.addEventListener("click",function(c){c.preventDefault(),s(r.closest(".popup"))})}function o(n){if(n&&_){const r=document.querySelector(".popup.open");r?s(r,!1):$(),n.classList.add("open"),n.addEventListener("click",c=>{c.target.closest(".popup__content")||s(c.target.closest(".popup"))})}}function s(n,r=!0){_&&(n.classList.remove("open"),r&&H())}document.addEventListener("keydown",n=>{if(n.code==="Escape"){const r=document.querySelector(".popup.open");s(r)}})}const U=()=>{const e="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d10499.212570619604!2d2.325642918775264!3d48.861964141318836!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x47e66e25d0482b3d%3A0x1c0b82c6e1d85100!2zNzUwMDEg0J_QsNGA0LjQtiwg0KTRgNCw0L3RhtC40Y8!5e0!3m2!1sru!2sro!4v1752657985792!5m2!1sru!2sro",t=document.querySelector("[data-map]"),o=document.querySelector("[data-map-trigger]");t&&o&&o.addEventListener("click",()=>{o.remove();const s=document.createElement("iframe");s.src=e,s.loading="lazy",s.allowFullscreen=!0,s.referrerPolicy="no-referrer-when-downgrade",t.appendChild(s)})},z=()=>{const e=document.getElementById("bookingForm"),t=document.getElementById("datePicker"),o=new Date().toISOString().split("T")[0];t.min=o;const s=document.getElementById("userName"),n=document.getElementById("userEmail"),r=document.getElementById("userPhone"),c=document.querySelector('input[name="user-time"]'),i={userName:()=>/^[A-Za-zА-Яа-яЁё\s]{3,15}$/.test(s.value.trim()),userEmail:()=>/^[a-zA-Z0-9_-]{3,15}@([a-z]{4,})\.([a-z]{2,})$/.test(n.value.trim()),userPhone:()=>{const a=r.value.replace(/[\s-]/g,"");return/^(\d[\d\s-]*){10}$/.test(r.value)&&a.length===10},userDate:()=>t.value>=o,userTime:()=>{const[a,d]=c.value.split(":").map(Number),p=a*60+d,S=9*60,f=18*60;return!isNaN(p)&&p>=S&&p<=f&&p%30===0}},l={userName:"Имя должно содержать 3–15 букв (русские или латинские) и пробелы.",userEmail:"Email должен быть в формате username@example.com",userPhone:"Телефон должен содержать 10 цифр, можно с пробелами или дефисами.",userDate:"Нельзя выбрать прошедшую дату.",userTime:"Выберите время от 09:00 до 18:00 с шагом 30 минут."};s.addEventListener("input",()=>u(s,"nameError","userName")),n.addEventListener("input",()=>u(n,"emailError","userEmail")),r.addEventListener("input",()=>u(r,"phoneError","userPhone")),t.addEventListener("input",()=>u(t,"dateError","userDate")),c.addEventListener("input",()=>u(c,"timeError","userTime")),e.addEventListener("submit",a=>{a.preventDefault(),I();let d=!0;i.userName()||(m(s,"nameError",l.userName),d=!1),i.userEmail()||(m(n,"emailError",l.userEmail),d=!1),i.userPhone()||(m(r,"phoneError",l.userPhone),d=!1),i.userDate()||(m(t,"dateError",l.userDate),d=!1),i.userTime()||(m(c,"timeError",l.userTime),d=!1),d&&(alert("Форма успешно отправлена!"),e.reset(),I())});function u(a,d,p){i[p]()?v(a,d):m(a,d,l[p])}function m(a,d,p){a.classList.remove("valid"),a.classList.add("invalid");const S=document.getElementById(d);S&&(S.textContent=p)}function v(a,d){a.classList.remove("invalid"),a.classList.add("valid");const p=document.getElementById(d);p&&(p.textContent="")}function I(){document.querySelectorAll(".error").forEach(a=>a.textContent=""),document.querySelectorAll(".invalid, .valid").forEach(a=>{a.classList.remove("invalid"),a.classList.remove("valid")})}},Y=()=>{const e=document.getElementById("datePicker"),t=document.querySelector('input[name="user-time"]'),o=document.getElementById("ticket-type"),s=document.querySelector(".overwiev__date--date"),n=document.querySelector(".overwiev__time--time"),r=document.querySelector(".overwiev__type-ticket--type-ticket");e.addEventListener("change",()=>{const c=new Date(e.value);if(!isNaN(c)){const i={weekday:"long",month:"long",day:"numeric"},l=c.toLocaleDateString("en-US",i);s.textContent=l}}),t.addEventListener("change",()=>{const c=t.value;if(c){const[i,l]=c.split(":");n.textContent=`${i} : ${l}`}}),o.addEventListener("change",()=>{const c=o.value;c&&(r.textContent=c)})},E={ticketType:"ticketType",basicCount:"basicCount",seniorCount:"seniorCount",totalPrice:"totalPrice"},T={basic:{20:20,25:25,40:40},senior:{20:10,25:12.5,40:20}};let q=localStorage.getItem(E.ticketType)||"20",g=parseInt(localStorage.getItem(E.basicCount))||0,y=parseInt(localStorage.getItem(E.seniorCount))||0;const W=document.querySelector(".js-price-total"),D=document.querySelectorAll('input[name="radio"]'),G=document.querySelectorAll(".js-plus"),R=document.querySelectorAll(".js-minus");function K(){const e=T.basic[q],t=T.senior[q];return(e*g+t*y).toFixed(0)}function w(){const e=K();W.textContent=e,localStorage.setItem(E.totalPrice,e)}function Q(){return q}const Z=()=>{document.querySelector(".stapper__number--basic").textContent=g,document.querySelector(".stapper__number--senior").textContent=y,D.forEach(t=>{t.checked=t.value===q});function e(){R.forEach(t=>{const o=t.closest(".js-counter");o.classList.contains("js-basic-counter")?t.classList.toggle("disabled",g===0):o.classList.contains("js-senior-counter")&&t.classList.toggle("disabled",y===0)})}D.forEach(t=>{t.addEventListener("change",o=>{q=o.target.value,localStorage.setItem(E.ticketType,q),w()})}),G.forEach(t=>{t.addEventListener("click",()=>{const o=t.closest(".js-counter"),s=o.querySelector(".js-current-items");o.classList.contains("js-basic-counter")?(g++,s.textContent=g,localStorage.setItem(E.basicCount,g)):o.classList.contains("js-senior-counter")&&(y++,s.textContent=y,localStorage.setItem(E.seniorCount,y)),w(),e()})}),R.forEach(t=>{t.addEventListener("click",()=>{const o=t.closest(".js-counter"),s=o.querySelector(".js-current-items");o.classList.contains("js-basic-counter")&&g>0?(g--,s.textContent=g,localStorage.setItem(E.basicCount,g)):o.classList.contains("js-senior-counter")&&y>0&&(y--,s.textContent=y,localStorage.setItem(E.seniorCount,y)),w(),e()})}),w(),e()},J=()=>{const e=document.querySelector(".stappers-booking__basic .js-counter"),t=document.querySelector(".stappers-booking__senior .js-counter"),o=e.querySelector(".js-current-items"),s=t.querySelector(".js-current-items"),n=document.querySelector(".js-basic-counter .js-current-items"),r=document.querySelector(".js-senior-counter .js-current-items"),c=document.querySelector(".js-calc-basic-modal"),i=document.querySelector(".js-calc-senior-modal"),l=document.querySelector(".js-price-basic-modal"),u=document.querySelector(".js-price-senior-modal"),m=document.querySelector(".js-price-total-modal");function v(f){const h=f.querySelector(".js-minus"),C=parseInt(f.querySelector(".js-current-items").textContent,10);h.classList.toggle("disabled",C<=0)}function I(){!n||!r||(o.textContent=n.textContent,s.textContent=r.textContent,v(e),v(t),d())}function a(){!n||!r||(n.textContent=o.textContent,r.textContent=s.textContent)}function d(){const f=parseInt(o.textContent,10),h=parseInt(s.textContent,10),C=Q(),P=T.basic[C],L=T.senior[C],j=f*P,A=h*L;if(c&&(c.textContent=f),i&&(i.textContent=h),l&&(l.textContent=j.toFixed(0)+" €"),u&&(u.textContent=A.toFixed(0)+" €"),m){const O=j+A;m.textContent=O.toFixed(0)}}function p(f,h){const C=f.querySelector(".js-plus"),P=f.querySelector(".js-minus");C.addEventListener("click",()=>{let L=parseInt(h.textContent,10);L++,h.textContent=L,v(f),a(),w(),d()}),P.addEventListener("click",()=>{let L=parseInt(h.textContent,10);L>0&&(L--,h.textContent=L,v(f),a(),w(),d())})}const S=document.querySelector(".amount__btn");S&&S.addEventListener("click",()=>{I()}),p(e,o),p(t,s),d()};function X(){const e=document.querySelectorAll("[data-goto]");e.length>0&&e.forEach(t=>{t.addEventListener("click",o=>{const s=o.target;if(s.dataset.goto&&document.querySelector(s.dataset.goto)){o.preventDefault();const r=document.querySelector(s.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;window.scrollTo({top:r,behavior:"smooth"})}})})}function ee(){const e=document.querySelector(".menu__body"),t=document.querySelector(".icon-menu");e&&t&&(t.addEventListener("click",()=>{e.classList.toggle("menu-open"),t.classList.toggle("menu-open"),document.body.classList.toggle("lock"),document.querySelector(".welcome__content").classList.toggle("menu-open")}),e.addEventListener("click",o=>{o.target.classList.contains("menu__body")&&(e.classList.remove("menu-open"),t.classList.remove("menu-open"),document.body.classList.remove("lock"),document.querySelector(".welcome__content").classList.remove("menu-open"))}),e.querySelectorAll(".menu__link").forEach(o=>{o.addEventListener("click",()=>{e.classList.remove("menu-open"),t.classList.remove("menu-open"),document.body.classList.remove("lock"),document.querySelector(".welcome__content").classList.remove("menu-open")})}))}function te(){function e(){function o(l){for(let u=l.length-1;u>0;u--){let m=Math.floor(Math.random()*(u+1));[l[u],l[m]]=[l[m],l[u]]}return l}const s=o([1,2,3,4,5,6,7,8,9,10,11,12]),n=document.querySelectorAll(".gallery__column");let r="",c=0,i=0;s.forEach(l=>{let u=`<img class="gallery__img" src="assets/img/galery/galery${l}.webp" alt="gallery${l}">`;r+=u,c++,c==4&&(n[i].innerHTML=r,r="",c=0,i++)})}function t(){const o=document.querySelectorAll(".gallery__img");if(o.length>0){let s=function(){for(let r=0;r<o.length;r++){const c=o[r],i=c.offsetHeight,l=n(c).top,u=10;let m=window.innerHeight-i/u;i>window.innerHeight&&(m=window.innerHeight-window.innerHeight/u),scrollY>l-m&&scrollY<l+i?c.classList.add("animation-gallery"):c.classList.remove("animation-gallery")}},n=function(r){const c=r.getBoundingClientRect(),i=window.pageXOffset||document.documentElement.scrollLeft,l=window.pageYOffset||document.documentElement.scrollTop;return{top:c.top+l,left:c.left+i}};window.addEventListener("scroll",s),s()}}e(),t()}window.addEventListener("DOMContentLoaded",()=>{V(),F(),z(),Y(),Z(),J(),X(),ee(),te(),U(),k(()=>import("./welcome-slider.js"),__vite__mapDeps([0,1,2,3]),import.meta.url).then(e=>e.default()).catch(e=>console.error('Ошибка загрузки модуля "welcome-slider":',e)),k(()=>import("./sliderComparisonImages.js"),[],import.meta.url).then(e=>e.default()).catch(e=>console.error('Ошибка загрузки модуля "sliderComparisonImages":',e)),k(()=>import("./customMainVideoPlayer.js"),[],import.meta.url).then(e=>e.default()).catch(e=>console.error('Error loading module "customMainVideoPlayer":',e)),k(()=>import("./sliderVideoAPI.js"),__vite__mapDeps([4,1,2]),import.meta.url).then(e=>{window.sliderVideoAPIInstance=e.default()}).catch(e=>console.error('Error loading module "sliderVideoAPI":',e)),k(()=>import("./sliderTickets.js"),__vite__mapDeps([5,1,3,6]),import.meta.url).then(e=>{window.sliderVideoAPIInstance=e.default()}).catch(e=>console.error('Error loading module "sliderTickets":',e)),k(()=>import("./sliderBooking.js"),__vite__mapDeps([7,1,3,6]),import.meta.url).then(e=>{window.sliderVideoAPIInstance=e.default()}).catch(e=>console.error('Error loading module "sliderBooking":',e)),console.log(`реализовано:
        - кнопка вверх
        - мобильное меню бургер
        - слайдер в секции welcome
        - слайдер сравнения изображений
        - видеоплеер 
        - слайдер видео
        - анимация галереи
        - слайдер в секции tickets
        - калькулятор стоимости билетов с сохранением в local storage
        - модальное окно
        - слайдер в модальном окне
        - валидация формы
        - ленивая загрузка карты
        `)});
