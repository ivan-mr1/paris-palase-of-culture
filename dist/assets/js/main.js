const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./welcome-slider.js","./swiper-core.js","./pagination.js","./sliderVideoAPI.js","./sliderTickets.js","./effect-cube.js","./sliderBooking.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function c(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const V="modulepreload",M=function(e,t){return new URL(e,t).href},B={},w=function(t,o,c){let n=Promise.resolve();if(o&&o.length>0){let r=function(u){return Promise.all(u.map(p=>Promise.resolve(p).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const l=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),m=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=r(o.map(u=>{if(u=M(u,c),u in B)return;B[u]=!0;const p=u.endsWith(".css"),h=p?'[rel="stylesheet"]':"";if(!!c)for(let f=l.length-1;f>=0;f--){const g=l[f];if(g.href===u&&(!p||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const a=document.createElement("link");if(a.rel=p?"stylesheet":V,p||(a.as="script"),a.crossOrigin="",a.href=u,m&&a.setAttribute("nonce",m),document.head.appendChild(a),p)return new Promise((f,g)=>{a.addEventListener("load",f),a.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(r){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=r,window.dispatchEvent(l),!l.defaultPrevented)throw r}return n.then(r=>{for(const l of r||[])l.status==="rejected"&&s(l.reason);return t().catch(s)})};function N(){const t=document.querySelector(".scroll-up"),o=document.querySelector(".scroll-up__path"),c=o.getTotalLength();o.style.strokeDasharray=`${c} ${c}`,o.style.transition="stroke-dashoffset 20ms";const n=()=>window.scrollY||document.documentElement.scrollTop,s=()=>{const r=document.documentElement.scrollHeight-window.innerHeight,l=c-n()*c/r;o.style.strokeDashoffset=l};window.addEventListener("scroll",()=>{s(),n()>100?t.classList.add("scroll-up--active"):t.classList.remove("scroll-up--active")}),t.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}let C=!0;const q=document.querySelectorAll(".lock-padding"),x=document.querySelector("body");function $(e=500){const t=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(q.length>0)for(let o=0;o<q.length;o++){const c=q[o];c.style.paddingRight=t}x.style.paddingRight=t,x.classList.add("lock"),C=!1,setTimeout(function(){C=!0},e)}function H(e=500){setTimeout(function(){if(q.length>0)for(let t=0;t<q.length;t++){const o=q[t];o.style.paddingRight="0px"}x.style.paddingRight="0px",x.classList.remove("lock")},e),C=!1,setTimeout(function(){C=!0},C)}function F(){const e=document.querySelectorAll(".popup-link");if(e.length>0)for(let n=0;n<e.length;n++){const s=e[n];s.addEventListener("click",function(r){r.preventDefault();const l=s.getAttribute("href").replace("#",""),i=document.getElementById(l);o(i)})}const t=document.querySelectorAll(".close-popup");if(t.length>0)for(let n=0;n<t.length;n++){const s=t[n];s.addEventListener("click",function(r){r.preventDefault(),c(s.closest(".popup"))})}function o(n){if(n&&C){const s=document.querySelector(".popup.open");s?c(s,!1):$(),n.classList.add("open"),n.addEventListener("click",r=>{r.target.closest(".popup__content")||c(r.target.closest(".popup"))})}}function c(n,s=!0){C&&(n.classList.remove("open"),s&&H())}document.addEventListener("keydown",n=>{if(n.code==="Escape"){const s=document.querySelector(".popup.open");c(s)}})}const U=()=>{const e=document.getElementById("bookingForm"),t=document.getElementById("datePicker"),o=new Date().toISOString().split("T")[0];t.min=o;const c=document.getElementById("userName"),n=document.getElementById("userEmail"),s=document.getElementById("userPhone"),r=document.querySelector('input[name="user-time"]'),l={userName:()=>/^[A-Za-zА-Яа-яЁё\s]{3,15}$/.test(c.value.trim()),userEmail:()=>/^[a-zA-Z0-9_-]{3,15}@([a-z]{4,})\.([a-z]{2,})$/.test(n.value.trim()),userPhone:()=>{const d=s.value.replace(/[\s-]/g,"");return/^(\d[\d\s-]*){10}$/.test(s.value)&&d.length===10},userDate:()=>t.value>=o,userTime:()=>{const[d,a]=r.value.split(":").map(Number),f=d*60+a,g=9*60,y=18*60;return!isNaN(f)&&f>=g&&f<=y&&f%30===0}},i={userName:"Имя должно содержать 3–15 букв (русские или латинские) и пробелы.",userEmail:"Email должен быть в формате username@example.com",userPhone:"Телефон должен содержать 10 цифр, можно с пробелами или дефисами.",userDate:"Нельзя выбрать прошедшую дату.",userTime:"Выберите время от 09:00 до 18:00 с шагом 30 минут."};c.addEventListener("input",()=>m(c,"nameError","userName")),n.addEventListener("input",()=>m(n,"emailError","userEmail")),s.addEventListener("input",()=>m(s,"phoneError","userPhone")),t.addEventListener("input",()=>m(t,"dateError","userDate")),r.addEventListener("input",()=>m(r,"timeError","userTime")),e.addEventListener("submit",d=>{d.preventDefault(),h();let a=!0;l.userName()||(u(c,"nameError",i.userName),a=!1),l.userEmail()||(u(n,"emailError",i.userEmail),a=!1),l.userPhone()||(u(s,"phoneError",i.userPhone),a=!1),l.userDate()||(u(t,"dateError",i.userDate),a=!1),l.userTime()||(u(r,"timeError",i.userTime),a=!1),a&&(alert("Форма успешно отправлена!"),e.reset(),h())});function m(d,a,f){l[f]()?p(d,a):u(d,a,i[f])}function u(d,a,f){d.classList.remove("valid"),d.classList.add("invalid");const g=document.getElementById(a);g&&(g.textContent=f)}function p(d,a){d.classList.remove("invalid"),d.classList.add("valid");const f=document.getElementById(a);f&&(f.textContent="")}function h(){document.querySelectorAll(".error").forEach(d=>d.textContent=""),document.querySelectorAll(".invalid, .valid").forEach(d=>{d.classList.remove("invalid"),d.classList.remove("valid")})}},Y=()=>{const e=document.getElementById("datePicker"),t=document.querySelector('input[name="user-time"]'),o=document.getElementById("ticket-type"),c=document.querySelector(".overwiev__date--date"),n=document.querySelector(".overwiev__time--time"),s=document.querySelector(".overwiev__type-ticket--type-ticket");e.addEventListener("change",()=>{const r=new Date(e.value);if(!isNaN(r)){const l={weekday:"long",month:"long",day:"numeric"},i=r.toLocaleDateString("en-US",l);c.textContent=i}}),t.addEventListener("change",()=>{const r=t.value;if(r){const[l,i]=r.split(":");n.textContent=`${l} : ${i}`}}),o.addEventListener("change",()=>{const r=o.value;r&&(s.textContent=r)})},S={ticketType:"ticketType",basicCount:"basicCount",seniorCount:"seniorCount",totalPrice:"totalPrice"},P={basic:{20:20,25:25,40:40},senior:{20:10,25:12.5,40:20}};let I=localStorage.getItem(S.ticketType)||"20",E=parseInt(localStorage.getItem(S.basicCount))||0,v=parseInt(localStorage.getItem(S.seniorCount))||0;const z=document.querySelector(".js-price-total"),D=document.querySelectorAll('input[name="radio"]'),W=document.querySelectorAll(".js-plus"),R=document.querySelectorAll(".js-minus");function Z(){const e=P.basic[I],t=P.senior[I];return(e*E+t*v).toFixed(0)}function b(){const e=Z();z.textContent=e,localStorage.setItem(S.totalPrice,e)}function G(){return I}const K=()=>{document.querySelector(".stapper__number--basic").textContent=E,document.querySelector(".stapper__number--senior").textContent=v,D.forEach(t=>{t.checked=t.value===I});function e(){R.forEach(t=>{const o=t.closest(".js-counter");o.classList.contains("js-basic-counter")?t.classList.toggle("disabled",E===0):o.classList.contains("js-senior-counter")&&t.classList.toggle("disabled",v===0)})}D.forEach(t=>{t.addEventListener("change",o=>{I=o.target.value,localStorage.setItem(S.ticketType,I),b()})}),W.forEach(t=>{t.addEventListener("click",()=>{const o=t.closest(".js-counter"),c=o.querySelector(".js-current-items");o.classList.contains("js-basic-counter")?(E++,c.textContent=E,localStorage.setItem(S.basicCount,E)):o.classList.contains("js-senior-counter")&&(v++,c.textContent=v,localStorage.setItem(S.seniorCount,v)),b(),e()})}),R.forEach(t=>{t.addEventListener("click",()=>{const o=t.closest(".js-counter"),c=o.querySelector(".js-current-items");o.classList.contains("js-basic-counter")&&E>0?(E--,c.textContent=E,localStorage.setItem(S.basicCount,E)):o.classList.contains("js-senior-counter")&&v>0&&(v--,c.textContent=v,localStorage.setItem(S.seniorCount,v)),b(),e()})}),b(),e()},X=()=>{const e=document.querySelector(".stappers-booking__basic .js-counter"),t=document.querySelector(".stappers-booking__senior .js-counter"),o=e.querySelector(".js-current-items"),c=t.querySelector(".js-current-items"),n=document.querySelector(".js-basic-counter .js-current-items"),s=document.querySelector(".js-senior-counter .js-current-items"),r=document.querySelector(".js-calc-basic-modal"),l=document.querySelector(".js-calc-senior-modal"),i=document.querySelector(".js-price-basic-modal"),m=document.querySelector(".js-price-senior-modal"),u=document.querySelector(".js-price-total-modal");function p(y){const L=y.querySelector(".js-minus"),k=parseInt(y.querySelector(".js-current-items").textContent,10);L.classList.toggle("disabled",k<=0)}function h(){!n||!s||(o.textContent=n.textContent,c.textContent=s.textContent,p(e),p(t),a())}function d(){!n||!s||(n.textContent=o.textContent,s.textContent=c.textContent)}function a(){const y=parseInt(o.textContent,10),L=parseInt(c.textContent,10),k=G(),T=P.basic[k],_=P.senior[k],j=y*T,A=L*_;if(r&&(r.textContent=y),l&&(l.textContent=L),i&&(i.textContent=j.toFixed(0)+" €"),m&&(m.textContent=A.toFixed(0)+" €"),u){const O=j+A;u.textContent=O.toFixed(0)}}function f(y,L){const k=y.querySelector(".js-plus"),T=y.querySelector(".js-minus");k.addEventListener("click",()=>{let _=parseInt(L.textContent,10);_++,L.textContent=_,p(y),d(),b(),a()}),T.addEventListener("click",()=>{let _=parseInt(L.textContent,10);_>0&&(_--,L.textContent=_,p(y),d(),b(),a())})}const g=document.querySelector(".amount__btn");g&&g.addEventListener("click",()=>{h()}),f(e,o),f(t,c),a()};function J(){const e=document.querySelectorAll("[data-goto]");e.length>0&&e.forEach(t=>{t.addEventListener("click",o=>{const c=o.target;if(c.dataset.goto&&document.querySelector(c.dataset.goto)){o.preventDefault();const s=document.querySelector(c.dataset.goto).getBoundingClientRect().top+pageYOffset-document.querySelector("header").offsetHeight;window.scrollTo({top:s,behavior:"smooth"})}})})}function Q(){const e=document.querySelector(".menu__body"),t=document.querySelector(".icon-menu");e&&t&&(t.addEventListener("click",()=>{e.classList.toggle("menu-open"),t.classList.toggle("menu-open"),document.body.classList.toggle("lock"),document.querySelector(".welcome__content").classList.toggle("menu-open")}),e.addEventListener("click",o=>{o.target.classList.contains("menu__body")&&(e.classList.remove("menu-open"),t.classList.remove("menu-open"),document.body.classList.remove("lock"),document.querySelector(".welcome__content").classList.remove("menu-open"))}),e.querySelectorAll(".menu__link").forEach(o=>{o.addEventListener("click",()=>{e.classList.remove("menu-open"),t.classList.remove("menu-open"),document.body.classList.remove("lock"),document.querySelector(".welcome__content").classList.remove("menu-open")})}))}function ee(){function e(){function o(i){for(let m=i.length-1;m>0;m--){let u=Math.floor(Math.random()*(m+1));[i[m],i[u]]=[i[u],i[m]]}return i}const c=o([1,2,3,4,5,6,7,8,9,10,11,12]),n=document.querySelectorAll(".gallery__column");let s="",r=0,l=0;c.forEach(i=>{let m=`<img class="gallery__img" src="assets/img/galery/galery${i}.webp" alt="gallery${i}">`;s+=m,r++,r==4&&(n[l].innerHTML=s,s="",r=0,l++)})}function t(){const o=document.querySelectorAll(".gallery__img");if(o.length>0){let c=function(){for(let s=0;s<o.length;s++){const r=o[s],l=r.offsetHeight,i=n(r).top,m=10;let u=window.innerHeight-l/m;l>window.innerHeight&&(u=window.innerHeight-window.innerHeight/m),scrollY>i-u&&scrollY<i+l?r.classList.add("animation-gallery"):r.classList.remove("animation-gallery")}},n=function(s){const r=s.getBoundingClientRect(),l=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop;return{top:r.top+i,left:r.left+l}};window.addEventListener("scroll",c),c()}}e(),t()}window.addEventListener("DOMContentLoaded",()=>{N(),F(),U(),Y(),K(),X(),J(),Q(),ee(),w(()=>import("./welcome-slider.js"),__vite__mapDeps([0,1,2]),import.meta.url).then(e=>e.default()).catch(e=>console.error('Ошибка загрузки модуля "welcome-slider":',e)),w(()=>import("./sliderComparisonImages.js"),[],import.meta.url).then(e=>e.default()).catch(e=>console.error('Ошибка загрузки модуля "sliderComparisonImages":',e)),w(()=>import("./customMainVideoPlayer.js"),[],import.meta.url).then(e=>e.default()).catch(e=>console.error('Error loading module "customMainVideoPlayer":',e)),w(()=>import("./sliderVideoAPI.js"),__vite__mapDeps([3,1,2]),import.meta.url).then(e=>{window.sliderVideoAPIInstance=e.default()}).catch(e=>console.error('Error loading module "sliderVideoAPI":',e)),w(()=>import("./sliderTickets.js"),__vite__mapDeps([4,1,5]),import.meta.url).then(e=>{window.sliderVideoAPIInstance=e.default()}).catch(e=>console.error('Error loading module "sliderTickets":',e)),w(()=>import("./sliderBooking.js"),__vite__mapDeps([6,1,5]),import.meta.url).then(e=>{window.sliderVideoAPIInstance=e.default()}).catch(e=>console.error('Error loading module "sliderBooking":',e))});
